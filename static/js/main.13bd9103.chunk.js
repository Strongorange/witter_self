(this.webpackJsonpwitter_self=this.webpackJsonpwitter_self||[]).push([[0],{61:function(e,n,t){"use strict";t.r(n);var a=t(2),c=t.n(a),r=t(38),i=t.n(r),o=t(9),s=t(1),l=Object(a.createContext)(),u=function(){return Object(a.useContext)(l).user},d=function(){return Object(a.useContext)(l).setUser},p=function(e){var n=e.children,t=Object(a.useState)(""),c=Object(o.a)(t,2),r=c[0],i=c[1],u=Object(a.useState)([]),d=Object(o.a)(u,2),p=d[0],j=d[1],x=Object(a.useState)(!1),b=Object(o.a)(x,2),f=b[0],h=b[1];return Object(s.jsx)(l.Provider,{value:{user:r,setUser:i,isLoggedIn:f,setIsLoggedIn:h,weets:p,setWeets:j},children:n})},j=t(24),x=t(8),b=t(12),f=t.n(b),h=t(19),O=t(28),m=t(7),g=t(65),w=t(27);t(49),t(62),t(63);w.a.initializeApp({apiKey:"AIzaSyDVyUhbaFKbw6XnO4b5zR3lG8opyQdR1Q8",authDomain:"witter-self.firebaseapp.com",projectId:"witter-self",storageBucket:"witter-self.appspot.com",messagingSenderId:"84016412095",appId:"1:84016412095:web:a7217babe33b40e4161d0a"});var v,y,k,N,I,C,S,z,A,F,_,D,P,B,U,E,L,R=w.a,H=w.a.auth(),W=w.a.firestore(),G=w.a.storage(),J=t(6),K=t(14),Q=t(22),M=J.c.div(v||(v=Object(m.a)(["\n  margin-bottom: 20px;\n  background-color: white;\n  width: 320px;\n  max-width: 320px;\n  padding: 20px;\n  border-radius: 10px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  color: rgba(0, 0, 0, 0.8);\n\n  h4 {\n    font-size: 14px;\n  }\n  img {\n    right: 60px;\n    top: 0px;\n    position: absolute;\n    border-radius: 50%;\n    width: 50px;\n    height: 50px;\n  }\n\n  .weet__actions {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    span {\n      cursor: pointer;\n    }\n  }\n\n  .editForm {\n    width: 100%;\n    max-width: 320px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: 15px;\n  }\n  .formBtn {\n    cursor: pointer;\n    width: 100%;\n    padding: 7px 20px;\n    text-align: center;\n    color: white;\n    border-radius: 20px;\n    background-color: #04aaff;\n    cursor: pointer;\n  }\n\n  .cancelBtn {\n    width: 280px;\n    cursor: pointer;\n    background-color: tomato;\n    margin-top: 10px;\n  }\n\n  .formInput {\n    width: 100%;\n    padding: 10px 20px;\n    border-radius: 20px;\n    border: 1px solid black;\n    text-align: center;\n    background-color: white;\n    color: black;\n  }\n"]))),T=function(e){var n=e.weetObj,t=e.isOwner,c=Object(a.useState)(!1),r=Object(o.a)(c,2),i=r[0],l=r[1],u=Object(a.useState)(""),d=Object(o.a)(u,2),p=d[0],j=d[1],x=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc5b4\uc694?")){e.next=4;break}return e.next=4,W.doc("weets/".concat(n.id)).delete();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(e){l((function(e){return!e}))},O=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,W.doc("weets/".concat(n.id)).update({text:p});case 3:l((function(e){return!e}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(M,{children:i?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("form",{onSubmit:O,className:"editForm",children:[Object(s.jsx)("input",{type:"text",placeholder:"\ud2b8\uc717 \uc218\uc815",value:p,autoFocus:!0,onChange:function(e){var n=e.target.value;j(n)},className:"formInput"}),Object(s.jsx)("input",{type:"submit",value:"\uc218\uc815",className:"formBtn"})]}),Object(s.jsx)("span",{onClick:b,className:"formBtn cancelBtn",children:"\ucde8\uc18c"})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h4",{children:n.text}),n.attachmentUrl&&Object(s.jsx)("img",{src:n.attachmentUrl}),t&&Object(s.jsxs)("div",{className:"weet__actions",children:[Object(s.jsx)("span",{onClick:x,children:Object(s.jsx)(K.a,{icon:Q.d})}),Object(s.jsx)("span",{onClick:b,children:Object(s.jsx)(K.a,{icon:Q.a})})]})]})})})},V=J.c.div(y||(y=Object(m.a)(["\n  max-width: 400px;\n  width: 100%;\n  margin: 80px auto 0px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),X=J.c.form(k||(k=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n"]))),q=J.c.div(N||(N=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  position: relative;\n  margin-bottom: 20px;\n  width: 100%;\n  .weetInput {\n    flex-grow: 1;\n    height: 40px;\n    padding: 0px 20px;\n    color: white;\n    border: 1px solid #04aaff;\n    border-radius: 20px;\n    font-weight: 500;\n    font-size: 12px;\n  }\n  .input__arrow {\n    position: absolute;\n    right: 0;\n    background-color: #04aaff;\n    height: 40px;\n    width: 40px;\n    padding: 10px 0px;\n    text-align: center;\n    border-radius: 20px;\n    color: white;\n    cursor: pointer;\n  }\n"]))),Y=J.c.div(I||(I=Object(m.a)(["\n  img {\n    height: 80px;\n    width: 80px;\n    border-radius: 40px;\n  }\n  .attachClear {\n    color: #04aaff;\n    cursor: pointer;\n    text-align: center;\n    span {\n      margin-right: 10px;\n      font-size: 12px;\n    }\n  }\n"]))),Z=J.c.div(C||(C=Object(m.a)(["\n  margin-top: 30px;\n"]))),$=function(){var e=Object(a.useState)(""),n=Object(o.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)(""),i=Object(o.a)(r,2),d=i[0],p=i[1],j=u(),x=Object(a.useContext)(l).setWeets,b=Object(a.useContext)(l).weets,m=Object(a.useRef)();Object(a.useEffect)((function(){W.collection("weets").onSnapshot((function(e){var n=e.docs.map((function(e){return Object(O.a)({id:e.id},e.data())}));x(n)}))}),[]);var w=function(){var e=Object(h.a)(f.a.mark((function e(n){var a,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return");case 2:if(console.log("active"),n.preventDefault(),a="",""===d){e.next=13;break}return r=G.ref().child("".concat(j.uid,"/").concat(Object(g.a)())),e.next=9,r.putString(d,"data_url");case 9:return i=e.sent,e.next=12,i.ref.getDownloadURL();case 12:a=e.sent;case 13:return e.next=15,W.collection("weets").add({text:t,createdAt:Date.now(),creatorId:j.uid,attachmentUrl:a});case 15:c(""),p("");case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(V,{children:[Object(s.jsxs)(X,{onSubmit:w,children:[Object(s.jsxs)(q,{className:"input__container",children:[Object(s.jsx)("input",{type:"text",placeholder:"\ud2b8\uc717\uc744 \uc785\ub825\ud558\uc138\uc694",value:t,onChange:function(e){var n=e.target.value;c(n)},className:"weetInput"}),Object(s.jsx)("input",{type:"submit",value:"\u2192",className:"input__arrow"})]}),Object(s.jsxs)("label",{htmlFor:"attach-file",className:"input__label",children:[Object(s.jsx)("span",{style:{color:"#04aaff",cursor:"pointer"},children:"\uc774\ubbf8\uc9c0 \ucd94\uac00"}),Object(s.jsx)(K.a,{icon:Q.b,size:"xs",style:{color:"#04aaff"}})]}),Object(s.jsx)("input",{id:"attach-file",type:"file",accept:"image/*",ref:m,onChange:function(e){var n=e.target.files[0],t=new FileReader;t.onloadend=function(e){var n=e.currentTarget.result;p(n)},t.readAsDataURL(n)},style:{opacity:0}}),d&&Object(s.jsxs)(Y,{children:[Object(s.jsx)("img",{src:d,style:{backgroundImage:d}}),Object(s.jsxs)("div",{className:"attachClear",onClick:function(){p(null),m.current.value=null},children:[Object(s.jsx)("span",{children:"\uc0ad\uc81c"}),Object(s.jsx)(K.a,{icon:Q.c})]})]})]}),Object(s.jsx)(Z,{className:"weetsContainer",children:b.sort((function(e,n){return e.createdAt-n.createdAt})).map((function(e){return Object(s.jsx)(T,{weetObj:e,isOwner:e.creatorId===j.uid},e.id)}))})]})})},ee=J.c.div(S||(S=Object(m.a)(["\n  max-width: 400px;\n  width: 100%;\n  margin: 80px auto 0px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  .logOut {\n    cursor: pointer;\n    width: 100%;\n    padding: 7px 20px;\n    text-align: center;\n    color: white;\n    border-radius: 20px;\n    background-color: tomato;\n    cursor: pointer;\n    width: 360px;\n    margin-top: 40px;\n  }\n"]))),ne=J.c.div(z||(z=Object(m.a)(["\n  max-width: 400px;\n  width: 100%;\n  margin: 80px auto 0px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),te=J.c.form(A||(A=Object(m.a)(["\n  border-bottom: 1px solid rgba(255, 255, 255, 0.9);\n  padding-bottom: 30px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n\n  input {\n    text-align: center;\n    border: 1px solid black;\n    border-radius: 20px;\n    background-color: white;\n    color: black;\n    padding: 5px;\n  }\n  .updateBtn {\n    background-color: #04aaff;\n    color: white;\n    margin-top: 10px;\n  }\n"]))),ae=function(){Object(x.f)();var e=u(),n=d(),t=Object(a.useState)([]),c=Object(o.a)(t,2),r=c[0],i=c[1],l=Object(a.useState)(e.displayName),p=Object(o.a)(l,2),j=p[0],b=p[1],m=function(){var t=Object(h.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.displayName!==j&&(e.updateProfile({displayName:j}),n(Object(O.a)(Object(O.a)({},e),{},{displayName:H.currentUser.displayName})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var n=Object(h.a)(f.a.mark((function n(){var t;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,W.collection("weets").where("creatorId","==",e.uid).orderBy("createdAt").get();case 2:t=n.sent,i(t.docs.map((function(e){return e.data()})));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(a.useEffect)((function(){g()}),[]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(ee,{children:[Object(s.jsxs)(te,{onSubmit:m,children:[Object(s.jsx)("input",{type:"text",placeholder:"\uc774\ub984 \ubcc0\uacbd",value:j,onChange:function(e){var n=e.target.value;b(n)},className:"changeInput"}),Object(s.jsx)("input",{type:"submit",value:"\uc774\ub984 \ubcc0\uacbd",className:"updateBtn"})]}),Object(s.jsx)("span",{className:"logOut",children:"\ub85c\uadf8\uc544\uc6c3"}),Object(s.jsxs)(ne,{children:[Object(s.jsx)("h3",{style:{marginBottom:"20px"},children:"\ub098\uc758 \ud2b8\uc717"}),r.sort((function(e,n){return e.createdAt-n.createdAt})).map((function(n){return Object(s.jsx)(T,{weetObj:n,isOwner:n.creatorId===e.uid},n.id)}))]})]})})},ce=t(20),re=t(26),ie=J.c.div(F||(F=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n  .twitterIcon {\n    color: #64a5f2;\n    font-size: 50px;\n  }\n"]))),oe=J.c.form(_||(_=Object(m.a)(["\n  width: 100%;\n  max-width: 320px;\n  display: flex;\n  flex-direction: column;\n\n  gap: 10px;\n\n  input {\n    max-width: 320px;\n    width: 100%;\n    border: none;\n    border-radius: 20px;\n    padding: 7px;\n    font-size: 15px;\n  }\n\n  .authAction {\n    background-color: #4ca7f8;\n    color: white;\n    text-align: center;\n    width: 100%;\n  }\n"]))),se=J.c.span(D||(D=Object(m.a)(["\n  text-decoration: underline;\n  color: #4ca7f8;\n  cursor: pointer;\n  margin-bottom: 30px;\n"]))),le=J.c.div(P||(P=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  max-width: 320px;\n"]))),ue=J.c.button(B||(B=Object(m.a)(["\n  font-size: 18px;\n  .socialIcon {\n    margin-left: 7px;\n  }\n"]))),de=J.c.input(U||(U=Object(m.a)([""]))),pe=function(){var e,n,t=Object(a.useState)(""),c=Object(o.a)(t,2),r=c[0],i=c[1],l=Object(a.useState)(""),u=Object(o.a)(l,2),d=u[0],p=u[1],j=Object(a.useState)(!0),x=Object(o.a)(j,2),b=x[0],O=x[1],m=Object(a.useState)(null),g=Object(o.a)(m,2),w=g[0],v=g[1],y=function(){var e=Object(h.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,!b){e.next=8;break}return e.next=5,H.createUserWithEmailAndPassword(r,d);case 5:e.sent,e.next=11;break;case 8:return e.next=10,H.signInWithEmailAndPassword(r,d);case 10:e.sent;case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),v(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n){return e.apply(this,arguments)}}(),k=function(e){var n=e.target,t=n.value;"email"===n.name?i(t):p(t)},N=function(){var e=Object(h.a)(f.a.mark((function e(n){var t,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(t=n.target.name)?a=new R.auth.GoogleAuthProvider:"github"===t&&(a=new R.auth.GithubAuthProvider),e.next=4,H.signInWithPopup(a);case 4:c=e.sent,console.log(c);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(s.jsxs)(ie,{className:"authContainer",children:[Object(s.jsx)(K.a,{icon:re.c,className:"twitterIcon"}),Object(s.jsxs)(oe,{onSubmit:y,children:[Object(s.jsx)(de,(e={name:"email",type:"text"},Object(ce.a)(e,"name","email"),Object(ce.a)(e,"placeholder","Email"),Object(ce.a)(e,"value",r),Object(ce.a)(e,"onChange",k),e)),Object(s.jsx)(de,(n={name:"password",type:"password"},Object(ce.a)(n,"name","password"),Object(ce.a)(n,"placeholder","Password"),Object(ce.a)(n,"value",d),Object(ce.a)(n,"onChange",k),n)),Object(s.jsx)(de,{className:"authAction",type:"submit",value:b?"\ud68c\uc6d0\uac00\uc785":"\ub85c\uadf8\uc778"}),w&&Object(s.jsx)("span",{children:w})]}),Object(s.jsx)(se,{onClick:function(){O((function(e){return!e}))},children:b?"\ub85c\uadf8\uc778\ud558\ub7ec \uac00\uae30":"\uacc4\uc815 \ub9cc\ub4e4\uae30"}),Object(s.jsxs)(le,{children:[Object(s.jsxs)(ue,{name:"google",onClick:N,children:["Continue with",Object(s.jsx)(K.a,{icon:re.b,className:"socialIcon"})]}),Object(s.jsxs)(ue,{name:"github",onClick:N,children:["Continue with",Object(s.jsx)(K.a,{icon:re.a,className:"socialIcon"})]})]})]})},je=function(){return Object(s.jsx)("div",{children:Object(s.jsx)("span",{children:"Page Not Found"})})},xe=J.c.nav(E||(E=Object(m.a)(["\n  margin-top: 50px;\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  ul {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    max-width: 200px;\n    li {\n      a {\n        color: #64a5f2;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 10px;\n      }\n    }\n    span {\n      font-size: 15px;\n      color: white;\n    }\n  }\n"]))),be=function(){var e=u();return Object(s.jsx)(xe,{children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)(j.b,{to:"/",children:Object(s.jsx)(K.a,{icon:re.c})})}),Object(s.jsx)("li",{children:Object(s.jsxs)(j.b,{to:"profile",children:[Object(s.jsx)(K.a,{icon:Q.e}),Object(s.jsx)("span",{children:"".concat(e.displayName,"\uc758 \ud504\ub85c\ud544")})]})})]})})},fe=function(){var e=Object(a.useContext)(l).isLoggedIn;return Object(s.jsx)(j.a,{children:Object(s.jsx)(x.c,{children:e?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(be,{}),Object(s.jsxs)(x.c,{children:[Object(s.jsx)(x.a,{path:"/",exact:!0,children:Object(s.jsx)($,{})}),Object(s.jsx)(x.a,{path:"/profile",exact:!0,children:Object(s.jsx)(ae,{})}),Object(s.jsx)(x.a,{component:je})]})]}):Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(x.c,{children:[Object(s.jsx)(x.a,{exact:!0,path:"/",children:Object(s.jsx)(pe,{})}),Object(s.jsx)(x.a,{component:je})]})})})})},he=t(42),Oe=Object(J.a)(L||(L=Object(m.a)(["\n    @import url('https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap');\n    ","\n    body {\n        font-family: 'Do Hyeon', sans-serif;\n        font-size:35px;\n        background-color: black;\n        color: white\n    }\n    button {\n        font-family: 'Do Hyeon', sans-serif;\n        font-size:20px;\n    }\n    input {\n        all:unset;\n        box-sizing:border-box;\n        font-family: 'Do Hyeon', sans-serif;\n        font-size:20px;\n    }\n\n    span {\n        font-family: 'Do Hyeon', sans-serif;\n        font-size:20px;\n    }\n"])),he.a),me=function(){var e=Object(a.useContext)(l).setIsLoggedIn,n=Object(a.useState)(!1),t=Object(o.a)(n,2),c=t[0],r=t[1],i=d();return Object(a.useEffect)((function(){H.onAuthStateChanged((function(n){if(n){if(null===n.displayName){console.log("null user",n);var t=n.email.indexOf("@"),a=n.email.substring(0,t);n.updateProfile({displayName:a})}i({displayName:n.displayName,uid:n.uid,updateProfile:function(e){return n.updateProfile(e)}}),e(!0)}else e(!1);r(!0)}))}),[]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Oe,{}),c?Object(s.jsx)(fe,{}):"Initializing"]})};i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(p,{children:Object(s.jsx)(me,{})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.13bd9103.chunk.js.map